{% extends "layout/template.nj" %}
{% import "component/index.nj" as component %}

{% block css %}
  <link rel="stylesheet" href="{{ static }}/css/home.css">
{% endblock %}
{% block js %}
  <script src="{{ static }}/js/home.js"></script>
{% endblock%}

{% block main %}
{# 头部导航 #}
{{ component.headBanner(1) }}
{# 轮播图 #}
{{ component.carousel(carousel, 'homeCarousel') }}
{# 公告 #}

<div class="container">
  {# 热门游戏 #}
  <section class="home_hotGame m_module">
    <h2 class="home_hotGame_title">热门游戏</h2>
    <div class="row home_hotGame_Wrap">
      {% for hotGame in hotGameList %}
        <a href="/games/gameDetail/{{ hotGame.id }}" class="home_hotGame_item">
          <div>
            <img src="{{ hotGame.gameIcon }}" />
          </div>
          <div class="home_hotGame_gameName">{{ hotGame.gameName }}</div>
        </a>
      {% endfor %}
    </div>
  </section>
  <main class="row home_main">
    {# 游戏模块 #}
    <div class="col-md-8">
      {% if gamesModule and gamesModule.length > 0 -%}
        {% for module in gamesModule -%}
          <section class="m_module_static">
            {{ component.ModuleTitle(module.label, '/games/' + module.value) }}
            {# 游戏展示 #}
            {{ component.GamesShow(module.data) }}
          </section>
        {%- endfor %}
      {%- endif %}
    </div>
    {# side 行业资讯 #}
    <div class="col-md-4">
      {% if newsModule and newsModule.length > 0 %}
        {% for module in newsModule %}
          <div class="m_module_static">
            {{ component.ModuleTitle(module.label, '/news/' + module.value) }}
            {{ component.NewsSide(module.data) }}
          </div>
        {% endfor %}
      {% endif %}
    </div>
  </main>
</div>
<div class="m_module friend_link">
  <section class="container">
    {{ component.Title('友情链接') }}
    <div class="link_wrap">
      {% if friendLink -%}
        {% for link in friendLink -%}
          <a href="{{ link.href or 'javascript:;' }}">{{ link.label }}</a>
        {%- endfor %}
      {%- endif %}
    </div>
  </section>
</div>

{% endblock %}