webpackJsonp([4],{515:function(t,e,r){r(650);var n=r(198)(r(584),r(630),"data-v-bf70b618",null);t.exports=n.exports},524:function(t,e,r){"use strict";function n(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=o(e),this.reject=o(r)}var o=r(199);t.exports.f=function(t){return new n(t)}},525:function(t,e,r){var n=r(136),o=r(49)("toStringTag"),i="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=a(e=Object(t),o))?r:i?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},526:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},527:function(t,e,r){var n=r(64),o=r(65),i=r(524);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},528:function(t,e,r){var n=r(64),o=r(199),i=r(49)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||void 0==(r=n(a)[i])?e:o(r)}},529:function(t,e,r){var n,o,i,a=r(197),s=r(540),c=r(202),u=r(137),l=r(33),f=l.process,d=l.setImmediate,v=l.clearImmediate,p=l.MessageChannel,h=l.Dispatch,m=0,b={},_=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},g=function(t){_.call(t.data)};d&&v||(d=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return b[++m]=function(){s("function"==typeof t?t:Function(t),e)},n(m),m},v=function(t){delete b[t]},"process"==r(136)(f)?n=function(t){f.nextTick(a(_,t,1))}:h&&h.now?n=function(t){h.now(a(_,t,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=g,n=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",g,!1)):n="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:d,clear:v}},530:function(t,e,r){var n=r(89),o=r(49)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||i[o]===t)}},531:function(t,e,r){var n=r(64);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}}},532:function(t,e,r){var n=r(49)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},t(i)}catch(t){}return r}},533:function(t,e,r){var n=r(525),o=r(49)("iterator"),i=r(89);t.exports=r(63).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[n(t)]}},534:function(t,e,r){t.exports={default:r(537),__esModule:!0}},535:function(t,e,r){"use strict";e.__esModule=!0;var n=r(534),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default(function(t,r){function n(i,a){try{var s=e[i](a),c=s.value}catch(t){return void r(t)}if(!s.done)return o.default.resolve(c).then(function(t){n("next",t)},function(t){n("throw",t)});t(c)}return n("next")})}}},536:function(t,e,r){t.exports=r(547)},537:function(t,e,r){r(203),r(201),r(204),r(544),r(545),r(546),t.exports=r(63).Promise},538:function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},539:function(t,e,r){var n=r(197),o=r(531),i=r(530),a=r(64),s=r(200),c=r(533),u={},l={},e=t.exports=function(t,e,r,f,d){var v,p,h,m,b=d?function(){return t}:c(t),_=n(r,f,e?2:1),g=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(i(b)){for(v=s(t.length);v>g;g++)if((m=e?_(a(p=t[g])[0],p[1]):_(t[g]))===u||m===l)return m}else for(h=b.call(t);!(p=h.next()).done;)if((m=o(h,_,p.value,e))===u||m===l)return m};e.BREAK=u,e.RETURN=l},540:function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},541:function(t,e,r){var n=r(33),o=r(529).set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,c="process"==r(136)(a);t.exports=function(){var t,e,r,u=function(){var n,o;for(c&&(n=a.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(c)r=function(){a.nextTick(u)};else if(i){var l=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();r=function(){d.then(u)}}else r=function(){o.call(n,u)};return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}},542:function(t,e,r){var n=r(52);t.exports=function(t,e,r){for(var o in e)r&&t[o]?t[o]=e[o]:n(t,o,e[o]);return t}},543:function(t,e,r){"use strict";var n=r(33),o=r(63),i=r(50),a=r(51),s=r(49)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:n[t];a&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},544:function(t,e,r){"use strict";var n,o,i,a,s=r(90),c=r(33),u=r(197),l=r(525),f=r(88),d=r(65),v=r(199),p=r(538),h=r(539),m=r(528),b=r(529).set,_=r(541)(),g=r(524),x=r(526),y=r(527),w=c.TypeError,I=c.process,C=c.Promise,k="process"==l(I),P=function(){},A=o=g.f,j=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[r(49)("species")]=function(t){t(P,P)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e}catch(t){}}(),E=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var r=t._c;_(function(){for(var n=t._v,o=1==t._s,i=0;r.length>i;)!function(e){var r,i,a=o?e.ok:e.fail,s=e.resolve,c=e.reject,u=e.domain;try{a?(o||(2==t._h&&R(t),t._h=1),!0===a?r=n:(u&&u.enter(),r=a(n),u&&u.exit()),r===e.promise?c(w("Promise-chain cycle")):(i=E(r))?i.call(r,s,c):s(r)):c(n)}catch(t){c(t)}}(r[i++]);t._c=[],t._n=!1,e&&!t._h&&$(t)})}},$=function(t){b.call(c,function(){var e,r,n,o=t._v,i=S(t);if(i&&(e=x(function(){k?I.emit("unhandledRejection",o,t):(r=c.onunhandledrejection)?r({promise:t,reason:o}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=k||S(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},S=function(t){if(1==t._h)return!1;for(var e,r=t._a||t._c,n=0;r.length>n;)if(e=r[n++],e.fail||!S(e.promise))return!1;return!0},R=function(t){b.call(c,function(){var e;k?I.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},T=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw w("Promise can't be resolved itself");(e=E(t))?_(function(){var n={_w:r,_d:!1};try{e.call(t,u(T,n,1),u(M,n,1))}catch(t){M.call(n,t)}}):(r._v=t,r._s=1,N(r,!1))}catch(t){M.call({_w:r,_d:!1},t)}}};j||(C=function(t){p(this,C,"Promise","_h"),v(t),n.call(this);try{t(u(T,this,1),u(M,this,1))}catch(t){M.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(542)(C.prototype,{then:function(t,e){var r=A(m(this,C));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=k?I.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&N(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n;this.promise=t,this.resolve=u(T,t,1),this.reject=u(M,t,1)},g.f=A=function(t){return t===C||t===a?new i(t):o(t)}),f(f.G+f.W+f.F*!j,{Promise:C}),r(91)(C,"Promise"),r(543)("Promise"),a=r(63).Promise,f(f.S+f.F*!j,"Promise",{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!j),"Promise",{resolve:function(t){return y(s&&this===a?C:this,t)}}),f(f.S+f.F*!(j&&r(532)(function(t){C.all(t).catch(P)})),"Promise",{all:function(t){var e=this,r=A(e),n=r.resolve,o=r.reject,i=x(function(){var r=[],i=0,a=1;h(t,!1,function(t){var s=i++,c=!1;r.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,r[s]=t,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(t){var e=this,r=A(e),n=r.reject,o=x(function(){h(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},545:function(t,e,r){"use strict";var n=r(88),o=r(63),i=r(33),a=r(528),s=r(527);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then(function(){return r})}:t,r?function(r){return s(e,t()).then(function(){throw r})}:t)}})},546:function(t,e,r){"use strict";var n=r(88),o=r(524),i=r(526);n(n.S,"Promise",{try:function(t){var e=o.f(this),r=i(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},547:function(t,e,r){(function(e){var n="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(205),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}}).call(e,r(66))},584:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(536),o=r.n(n),i=r(535),a=r.n(i);e.default={data:function(){return{remoteUrl:this.config.remoteUrl,carousel:[],isEdit:!1,editIndex:null,editInfo:{id:"",src:"",href:"",alt:"",sortNumber:""},isAdd:!1,addInfo:{src:"",href:"",alt:"",sortNumber:""}}},created:function(){var t=this;return a()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.webHttp.get("/api/manage/homeCarousel");case 2:r=e.sent,r.success&&(t.carousel=r.data);case 4:case"end":return e.stop()}},e,t)}))()},methods:{onSubmit:function(){},showHandleEdit:function(t,e){var r=e.id,n=e.src,o=e.href,i=e.alt,a=e.sortNumber;this.isEdit=!0,this.editIndex=t,this.editInfo={id:r,src:n,href:o,alt:i,sortNumber:a}},handleEdit:function(){var t=this;return a()(o.a.mark(function e(){var r,n,i,a,s,c,u,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isEdit=!1,r=t.editInfo,n=r.id,i=r.src,a=r.href,s=r.alt,c=r.sortNumber,u=t.editIndex,e.next=5,t.webHttp.get("/api/manage/editCarousel",{id:n,src:i,href:a,alt:s,sortNumber:c});case 5:l=e.sent,l.success?(t.carousel.splice(u,1,t.editInfo),t.$message.info("修改成功")):t.$message.error("修改失败");case 7:case"end":return e.stop()}},e,t)}))()},showHandleAdd:function(){this.isAdd=!0,this.addInfo={src:"",href:"",alt:"",sortNumber:""}},handleAddCarousel:function(){var t=this;return a()(o.a.mark(function e(){var r,n,i,a,s,c,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.addInfo,n=r.src,i=r.href,a=r.alt,s=r.sortNumber,e.next=3,t.webHttp.get("/api/manage/createCarousel",{src:n,href:i,alt:a,sortNumber:s});case 3:c=e.sent,c.success?(u=c.data,t.carousel.push({src:n,href:i,alt:a,sortNumber:s,id:u.id}),t.$message.info(c.info||"添加成功")):t.$message.error(c.info||"添加失败"),t.isAdd=!1;case 6:case"end":return e.stop()}},e,t)}))()},handleDelete:function(t,e){var r=this;return a()(o.a.mark(function t(){var n,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.next=3,r.webHttp.get("/api/manage/deleteCarousel",{id:n});case 3:i=t.sent,i.success?(r.carousel=r.carousel.filter(function(t){return t.id!==n}),r.$message.info("删除成功")):r.$message.error(i.info||"删除失败");case 5:case"end":return t.stop()}},t,r)}))()},handleSelectionChange:function(){},uploadImage:function(t){var e=t.file,r=new FormData;r.append("files",e),this.webHttp.form("/api/upload/image/carousel",r).then(function(e){e.success&&t.onSuccess(e.data,t)})},handleAvatarSuccess:function(t,e){console.log(t.url),this.editInfo.src=t.url,this.$message.info("上传成功")},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,r=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&r},handleAddCarouselSuccess:function(t,e){console.log(t.url),this.addInfo.src=t.url,this.$message.info("上传成功")}}}},608:function(t,e,r){e=t.exports=r(87)(void 0),e.push([t.i,".flex-item[data-v-bf70b618]{display:flex;flex-direction:row;align-items:center}.hot-title[data-v-bf70b618]{padding:10px 0}.avatar[data-v-bf70b618]{width:100%;height:100%;display:block}",""])},630:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-upload2"}),t._v(" 页面管理")]),t._v(" "),r("el-breadcrumb-item",[t._v("首页轮播")])],1)],1),t._v(" "),r("div",{staticClass:"hot-title"},[t._v("首页轮播")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.showHandleAdd}},[t._v("\n        新建\n    ")]),t._v(" "),r("div",{staticClass:"flex-item"},[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.carousel,border:""},on:{"selection-change":t.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),r("el-table-column",{attrs:{prop:"id",label:"id"}}),t._v(" "),r("el-table-column",{attrs:{prop:"src",label:"图片地址"}}),t._v(" "),r("el-table-column",{attrs:{prop:"href",label:"跳转链接"}}),t._v(" "),r("el-table-column",{attrs:{prop:"alt",label:"描述"}}),t._v(" "),r("el-table-column",{attrs:{prop:"sortNumber",label:"排列序号"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"small"},on:{click:function(r){t.showHandleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),r("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(r){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"修改轮播图信息",visible:t.isEdit,width:"30%"},on:{"update:visible":function(e){t.isEdit=e}}},[r("el-input",{attrs:{placeholder:"跳转链接",clearable:""},model:{value:t.editInfo.href,callback:function(e){t.$set(t.editInfo,"href",e)},expression:"editInfo.href"}}),t._v(" "),r("el-input",{attrs:{placeholder:"描述",clearable:""},model:{value:t.editInfo.alt,callback:function(e){t.$set(t.editInfo,"alt",e)},expression:"editInfo.alt"}}),t._v(" "),r("el-input",{attrs:{placeholder:"排列序号",clearable:""},model:{value:t.editInfo.sortNumber,callback:function(e){t.$set(t.editInfo,"sortNumber",e)},expression:"editInfo.sortNumber"}}),t._v(" "),r("div",[r("div",[t._v("轮播图片(建议:1920*450)")]),t._v(" "),r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":t.uploadImage,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.isEdit?r("img",{staticClass:"avatar",attrs:{src:t.remoteUrl+t.editInfo.src}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.isEdit=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.handleEdit}},[t._v("确 定")])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"添加轮播图",visible:t.isAdd,width:"30%"},on:{"update:visible":function(e){t.isAdd=e}}},[r("el-input",{attrs:{placeholder:"跳转链接",clearable:""},model:{value:t.addInfo.href,callback:function(e){t.$set(t.addInfo,"href",e)},expression:"addInfo.href"}}),t._v(" "),r("el-input",{attrs:{placeholder:"描述",clearable:""},model:{value:t.addInfo.alt,callback:function(e){t.$set(t.addInfo,"alt",e)},expression:"addInfo.alt"}}),t._v(" "),r("el-input",{attrs:{placeholder:"排列序号",clearable:""},model:{value:t.addInfo.sortNumber,callback:function(e){t.$set(t.addInfo,"sortNumber",e)},expression:"addInfo.sortNumber"}}),t._v(" "),r("div",[r("div",[t._v("轮播图片(建议:1920*450)")]),t._v(" "),r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":t.uploadImage,"show-file-list":!1,"on-success":t.handleAddCarouselSuccess,"before-upload":t.beforeAvatarUpload}},[t.addInfo.src?r("img",{staticClass:"avatar",attrs:{src:t.remoteUrl+t.addInfo.src}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.isAdd=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.handleAddCarousel}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},650:function(t,e,r){var n=r(608);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r(196)("11ea339c",n,!0)}});