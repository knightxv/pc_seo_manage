webpackJsonp([3],{521:function(e,t,r){r(651);var n=r(198)(r(590),r(631),"data-v-c9261eba",null);e.exports=n.exports},524:function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=o(t),this.reject=o(r)}var o=r(199);e.exports.f=function(e){return new n(e)}},525:function(e,t,r){var n=r(136),o=r(49)("toStringTag"),i="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),o))?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},526:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},527:function(e,t,r){var n=r(64),o=r(65),i=r(524);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},528:function(e,t,r){var n=r(64),o=r(199),i=r(49)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},529:function(e,t,r){var n,o,i,a=r(197),s=r(540),c=r(202),u=r(137),l=r(33),f=l.process,d=l.setImmediate,v=l.clearImmediate,p=l.MessageChannel,h=l.Dispatch,m=0,b={},_=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},g=function(e){_.call(e.data)};d&&v||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},v=function(e){delete b[e]},"process"==r(136)(f)?n=function(e){f.nextTick(a(_,e,1))}:h&&h.now?n=function(e){h.now(a(_,e,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=g,n=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):n="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),e.exports={set:d,clear:v}},530:function(e,t,r){var n=r(89),o=r(49)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},531:function(e,t,r){var n=r(64);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},532:function(e,t,r){var n=r(49)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},533:function(e,t,r){var n=r(525),o=r(49)("iterator"),i=r(89);e.exports=r(63).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},534:function(e,t,r){e.exports={default:r(537),__esModule:!0}},535:function(e,t,r){"use strict";t.__esModule=!0;var n=r(534),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,r){function n(i,a){try{var s=t[i](a),c=s.value}catch(e){return void r(e)}if(!s.done)return o.default.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}return n("next")})}}},536:function(e,t,r){e.exports=r(547)},537:function(e,t,r){r(203),r(201),r(204),r(544),r(545),r(546),e.exports=r(63).Promise},538:function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},539:function(e,t,r){var n=r(197),o=r(531),i=r(530),a=r(64),s=r(200),c=r(533),u={},l={},t=e.exports=function(e,t,r,f,d){var v,p,h,m,b=d?function(){return e}:c(e),_=n(r,f,t?2:1),g=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(i(b)){for(v=s(e.length);v>g;g++)if((m=t?_(a(p=e[g])[0],p[1]):_(e[g]))===u||m===l)return m}else for(h=b.call(e);!(p=h.next()).done;)if((m=o(h,_,p.value,t))===u||m===l)return m};t.BREAK=u,t.RETURN=l},540:function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},541:function(e,t,r){var n=r(33),o=r(529).set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,c="process"==r(136)(a);e.exports=function(){var e,t,r,u=function(){var n,o;for(c&&(n=a.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){a.nextTick(u)};else if(i){var l=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();r=function(){d.then(u)}}else r=function(){o.call(n,u)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},542:function(e,t,r){var n=r(52);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},543:function(e,t,r){"use strict";var n=r(33),o=r(63),i=r(50),a=r(51),s=r(49)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},544:function(e,t,r){"use strict";var n,o,i,a,s=r(90),c=r(33),u=r(197),l=r(525),f=r(88),d=r(65),v=r(199),p=r(538),h=r(539),m=r(528),b=r(529).set,_=r(541)(),g=r(524),x=r(526),y=r(527),w=c.TypeError,I=c.process,C=c.Promise,k="process"==l(I),P=function(){},A=o=g.f,j=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(49)("species")]=function(e){e(P,P)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t}catch(e){}}(),E=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var r=e._c;_(function(){for(var n=e._v,o=1==e._s,i=0;r.length>i;)!function(t){var r,i,a=o?t.ok:t.fail,s=t.resolve,c=t.reject,u=t.domain;try{a?(o||(2==e._h&&R(e),e._h=1),!0===a?r=n:(u&&u.enter(),r=a(n),u&&u.exit()),r===t.promise?c(w("Promise-chain cycle")):(i=E(r))?i.call(r,s,c):s(r)):c(n)}catch(e){c(e)}}(r[i++]);e._c=[],e._n=!1,t&&!e._h&&$(e)})}},$=function(e){b.call(c,function(){var t,r,n,o=e._v,i=S(e);if(i&&(t=x(function(){k?I.emit("unhandledRejection",o,e):(r=c.onunhandledrejection)?r({promise:e,reason:o}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=k||S(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},S=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!S(t.promise))return!1;return!0},R=function(e){b.call(c,function(){var t;k?I.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},T=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw w("Promise can't be resolved itself");(t=E(e))?_(function(){var n={_w:r,_d:!1};try{t.call(e,u(T,n,1),u(M,n,1))}catch(e){M.call(n,e)}}):(r._v=e,r._s=1,N(r,!1))}catch(e){M.call({_w:r,_d:!1},e)}}};j||(C=function(e){p(this,C,"Promise","_h"),v(e),n.call(this);try{e(u(T,this,1),u(M,this,1))}catch(e){M.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(542)(C.prototype,{then:function(e,t){var r=A(m(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=k?I.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&N(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=u(T,e,1),this.reject=u(M,e,1)},g.f=A=function(e){return e===C||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!j,{Promise:C}),r(91)(C,"Promise"),r(543)("Promise"),a=r(63).Promise,f(f.S+f.F*!j,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!j),"Promise",{resolve:function(e){return y(s&&this===a?C:this,e)}}),f(f.S+f.F*!(j&&r(532)(function(e){C.all(e).catch(P)})),"Promise",{all:function(e){var t=this,r=A(t),n=r.resolve,o=r.reject,i=x(function(){var r=[],i=0,a=1;h(e,!1,function(e){var s=i++,c=!1;r.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,r[s]=e,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=A(t),n=r.reject,o=x(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},545:function(e,t,r){"use strict";var n=r(88),o=r(63),i=r(33),a=r(528),s=r(527);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},546:function(e,t,r){"use strict";var n=r(88),o=r(524),i=r(526);n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},547:function(e,t,r){(function(t){var n="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(205),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}}).call(t,r(66))},590:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(536),o=r.n(n),i=r(535),a=r.n(i);t.default={data:function(){return{remoteUrl:this.config.remoteUrl,carousel:[],isEdit:!1,editIndex:null,editInfo:{id:"",src:"",href:"",alt:"",sortNumber:""},isAdd:!1,addInfo:{src:"",href:"",alt:"",sortNumber:""}}},created:function(){var e=this;return a()(o.a.mark(function t(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webHttp.get("/api/phone/homeCarousel");case 2:r=t.sent,r.success&&(e.carousel=r.data);case 4:case"end":return t.stop()}},t,e)}))()},methods:{onSubmit:function(){},showHandleEdit:function(e,t){var r=t.id,n=t.src,o=t.href,i=t.alt,a=t.sortNumber;this.isEdit=!0,this.editIndex=e,this.editInfo={id:r,src:n,href:o,alt:i,sortNumber:a}},handleEdit:function(){var e=this;return a()(o.a.mark(function t(){var r,n,i,a,s,c,u,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isEdit=!1,r=e.editInfo,n=r.id,i=r.src,a=r.href,s=r.alt,c=r.sortNumber,u=e.editIndex,t.next=5,e.webHttp.get("/api/manage/phone/editCarousel",{id:n,src:i,href:a,alt:s,sortNumber:c});case 5:l=t.sent,l.success?(e.carousel.splice(u,1,e.editInfo),e.$message.info("修改成功")):e.$message.error("修改失败");case 7:case"end":return t.stop()}},t,e)}))()},showHandleAdd:function(){this.isAdd=!0,this.addInfo={src:"",href:"",alt:"",sortNumber:""}},handleAddCarousel:function(){var e=this;return a()(o.a.mark(function t(){var r,n,i,a,s,c,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.addInfo,n=r.src,i=r.href,a=r.alt,s=r.sortNumber,t.next=3,e.webHttp.get("/api/manage/phone/createCarousel",{src:n,href:i,alt:a,sortNumber:s});case 3:c=t.sent,c.success?(u=c.data,e.carousel.push({src:n,href:i,alt:a,sortNumber:s,id:u.id}),e.$message.info(c.info||"添加成功")):e.$message.error(c.info||"添加失败"),e.isAdd=!1;case 6:case"end":return t.stop()}},t,e)}))()},handleDelete:function(e,t){var r=this;return a()(o.a.mark(function e(){var n,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,r.webHttp.get("/api/manage/phone/deleteCarousel",{id:n});case 3:i=e.sent,i.success?(r.carousel=r.carousel.filter(function(e){return e.id!==n}),r.$message.info("删除成功")):r.$message.error(i.info||"删除失败");case 5:case"end":return e.stop()}},e,r)}))()},handleSelectionChange:function(){},uploadImage:function(e){var t=e.file,r=new FormData;r.append("files",t),this.webHttp.form("/api/upload/image/carousel",r).then(function(t){t.success&&e.onSuccess(t.data,e)})},handleAvatarSuccess:function(e,t){console.log(e.url),this.editInfo.src=e.url,this.$message.info("上传成功")},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r},handleAddCarouselSuccess:function(e,t){console.log(e.url),this.addInfo.src=e.url,this.$message.info("上传成功")}}}},609:function(e,t,r){t=e.exports=r(87)(void 0),t.push([e.i,".flex-item[data-v-c9261eba]{display:flex;flex-direction:row;align-items:center}.hot-title[data-v-c9261eba]{padding:10px 0}.avatar[data-v-c9261eba]{width:100%;height:100%;display:block}",""])},631:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-upload2"}),e._v(" 页面管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("手机首页轮播")])],1)],1),e._v(" "),r("div",{staticClass:"hot-title"},[e._v("手机首页轮播")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.showHandleAdd}},[e._v("\n        新建\n    ")]),e._v(" "),r("div",{staticClass:"flex-item"},[r("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.carousel,border:""},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"id",label:"id"}}),e._v(" "),r("el-table-column",{attrs:{prop:"src",label:"图片地址"}}),e._v(" "),r("el-table-column",{attrs:{prop:"href",label:"跳转链接"}}),e._v(" "),r("el-table-column",{attrs:{prop:"alt",label:"描述"}}),e._v(" "),r("el-table-column",{attrs:{prop:"sortNumber",label:"排列序号"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small"},on:{click:function(r){e.showHandleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(r){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改轮播图信息",visible:e.isEdit,width:"30%"},on:{"update:visible":function(t){e.isEdit=t}}},[r("el-input",{attrs:{placeholder:"跳转链接",clearable:""},model:{value:e.editInfo.href,callback:function(t){e.$set(e.editInfo,"href",t)},expression:"editInfo.href"}}),e._v(" "),r("el-input",{attrs:{placeholder:"描述",clearable:""},model:{value:e.editInfo.alt,callback:function(t){e.$set(e.editInfo,"alt",t)},expression:"editInfo.alt"}}),e._v(" "),r("el-input",{attrs:{placeholder:"排列序号",clearable:""},model:{value:e.editInfo.sortNumber,callback:function(t){e.$set(e.editInfo,"sortNumber",t)},expression:"editInfo.sortNumber"}}),e._v(" "),r("div",[r("div",[e._v("轮播图片(建议:1920*450)")]),e._v(" "),r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":e.uploadImage,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.isEdit?r("img",{staticClass:"avatar",attrs:{src:e.remoteUrl+e.editInfo.src}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.isEdit=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleEdit}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"添加轮播图",visible:e.isAdd,width:"30%"},on:{"update:visible":function(t){e.isAdd=t}}},[r("el-input",{attrs:{placeholder:"跳转链接",clearable:""},model:{value:e.addInfo.href,callback:function(t){e.$set(e.addInfo,"href",t)},expression:"addInfo.href"}}),e._v(" "),r("el-input",{attrs:{placeholder:"描述",clearable:""},model:{value:e.addInfo.alt,callback:function(t){e.$set(e.addInfo,"alt",t)},expression:"addInfo.alt"}}),e._v(" "),r("el-input",{attrs:{placeholder:"排列序号",clearable:""},model:{value:e.addInfo.sortNumber,callback:function(t){e.$set(e.addInfo,"sortNumber",t)},expression:"addInfo.sortNumber"}}),e._v(" "),r("div",[r("div",[e._v("轮播图片(建议:750*300)")]),e._v(" "),r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":e.uploadImage,"show-file-list":!1,"on-success":e.handleAddCarouselSuccess,"before-upload":e.beforeAvatarUpload}},[e.addInfo.src?r("img",{staticClass:"avatar",attrs:{src:e.remoteUrl+e.addInfo.src}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.isAdd=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleAddCarousel}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},651:function(e,t,r){var n=r(609);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(196)("7a462910",n,!0)}});